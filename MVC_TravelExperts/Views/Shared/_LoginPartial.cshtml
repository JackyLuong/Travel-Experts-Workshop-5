<!--
 * This web app creates a website of a fictional travel company called Travel Experts.
    The website allows users to learn about the company, see contact information,
    register a new user, a registered user can login/logout, update own data, see own
    packages' data
 * This file contains parts of the navigation bar responsible for user authentication
 * Author: Marat Nikitin
 * SAIT, PROJ 207 - Threaded Project
 * When: February 2022
-->

@using Microsoft.AspNetCore.Http <!-- It's needed to use data from session in this file'-->
<ul class="navbar-nav ">
    @if (User.Identity.IsAuthenticated)
    {
        <li class="nav-item">
<!--Updated upstream -->
            <a id="navLinks" class="nav-link align-middle" asp-action="Index" asp-controller="Home" title="Welcome">
                Welcome,&nbsp;@Context.Session.GetString("CurrentCustomerFirstName")!
            </a>
<!--Stashed changes-->
<!-- Registered customer is greeted by First name at the navigation panel (top right corner) -->    
        </li>
        <li class="nav-item">
            <a id="navLinks" class="nav-link" asp-controller="Profile" asp-action="Index">Profile</a>
        </li>
        <li class="nav-item">
            <a id="navLinks" class="nav-link" asp-controller="CustomerBookingPackage" asp-action="Index">My Bookings</a>
        </li>
        <li class="nav-item">
            <form asp-controller="Account" asp-action="Logout"
                  asp-route-returnUrl=@Url.Action("Index", "Home" )>
                <button type="submit" id="navLinks" class="btn btn-primary rounded font-weight-bold border-0 align-middle">
                    Logout
                </button>
            </form>
        </li>
    }
    else
    {
        <li class="nav-item">
            <a id="navLinks" class="nav-link text-left" asp-controller="Account" asp-action="Login">Login</a>
        </li>
        <li class="nav-item">
            <a id="navLinks" class="nav-link text-left" asp-controller="Account" asp-action="Register">Register</a>
        </li>
    }
</ul>